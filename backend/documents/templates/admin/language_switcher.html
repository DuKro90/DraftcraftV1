{% load i18n %}
<div class="language-switcher" style="position: fixed; top: 10px; right: 10px; z-index: 9999; background: white; padding: 8px 12px; border-radius: 4px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
    <form action="{% url 'set_language' %}" method="post" style="margin: 0;">
        {% csrf_token %}
        <input name="next" type="hidden" value="{{ redirect_to }}">
        <select name="language" onchange="this.form.submit()" style="border: 1px solid #ddd; padding: 4px 8px; border-radius: 3px; cursor: pointer;">
            {% get_current_language as CURRENT_LANGUAGE %}
            {% get_available_languages as AVAILABLE_LANGUAGES %}
            {% for lang_code, lang_name in AVAILABLE_LANGUAGES %}
                <option value="{{ lang_code }}" {% if lang_code == CURRENT_LANGUAGE %}selected{% endif %}>
                    {{ lang_name }}
                </option>
            {% endfor %}
        </select>
    </form>
</div>
